"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const typescript_1 = require("./typescript");
const babel_1 = require("./babel");
const dopees_chain_1 = require("dopees-chain");
function dopees(options) {
    const { targetRoot, buildRoot, sourceRoot, updateExternalImports } = options;
    return dopees_chain_1.Executors.combine([
        typescript_1.typescript({ sourceRoot: sourceRoot, distRoot: buildRoot }),
        babel_1.inlineView({
            sourceRoot: buildRoot,
            distRoot: targetRoot,
            saveAllDependencies: options.saveAllDependencies,
            allDependenciesKey: options.allDependenciesKey,
            updateExternalImports
        })
    ]);
}
exports.dopees = dopees;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9wZWVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2RvcGVlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDZDQUEwQztBQUMxQyxtQ0FBcUM7QUFDckMsK0NBQXlDO0FBYXpDLFNBQWdCLE1BQU0sQ0FBQyxPQUFnQjtJQUNyQyxNQUFNLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUscUJBQXFCLEVBQUUsR0FBRyxPQUFPLENBQUM7SUFDN0UsT0FBTyx3QkFBUyxDQUFDLE9BQU8sQ0FBQztRQUN2Qix1QkFBVSxDQUFDLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLENBQUM7UUFDM0Qsa0JBQVUsQ0FBQztZQUNULFVBQVUsRUFBRSxTQUFTO1lBQ3JCLFFBQVEsRUFBRSxVQUFVO1lBQ3BCLG1CQUFtQixFQUFFLE9BQU8sQ0FBQyxtQkFBbUI7WUFDaEQsa0JBQWtCLEVBQUUsT0FBTyxDQUFDLGtCQUFrQjtZQUM5QyxxQkFBcUI7U0FDckIsQ0FBQztLQUNKLENBQUMsQ0FBQztBQUNMLENBQUM7QUFaRCx3QkFZQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHR5cGVzY3JpcHQgfSBmcm9tIFwiLi90eXBlc2NyaXB0XCI7XG5pbXBvcnQgeyBpbmxpbmVWaWV3IH0gZnJvbSBcIi4vYmFiZWxcIjtcbmltcG9ydCB7IEV4ZWN1dG9ycyB9IGZyb20gXCJkb3BlZXMtY2hhaW5cIjtcblxuZXhwb3J0IGludGVyZmFjZSBPcHRpb25zIHtcbiAgc291cmNlUm9vdDogc3RyaW5nO1xuICBidWlsZFJvb3Q6IHN0cmluZztcbiAgdGFyZ2V0Um9vdDogc3RyaW5nO1xuICBzYXZlQWxsRGVwZW5kZW5jaWVzPzogYm9vbGVhbjtcbiAgYWxsRGVwZW5kZW5jaWVzS2V5Pzogc3RyaW5nO1xuICB1cGRhdGVFeHRlcm5hbEltcG9ydHM/OiBib29sZWFuXG59XG5cbmV4cG9ydCB7IERlcGVuZGVuY3lFbnRyeSB9IGZyb20gJy4vYmFiZWwnO1xuXG5leHBvcnQgZnVuY3Rpb24gZG9wZWVzKG9wdGlvbnM6IE9wdGlvbnMpIHtcbiAgY29uc3QgeyB0YXJnZXRSb290LCBidWlsZFJvb3QsIHNvdXJjZVJvb3QsIHVwZGF0ZUV4dGVybmFsSW1wb3J0cyB9ID0gb3B0aW9ucztcbiAgcmV0dXJuIEV4ZWN1dG9ycy5jb21iaW5lKFtcbiAgICB0eXBlc2NyaXB0KHsgc291cmNlUm9vdDogc291cmNlUm9vdCwgZGlzdFJvb3Q6IGJ1aWxkUm9vdCB9KSxcbiAgICBpbmxpbmVWaWV3KHtcbiAgICAgIHNvdXJjZVJvb3Q6IGJ1aWxkUm9vdCxcbiAgICAgIGRpc3RSb290OiB0YXJnZXRSb290LFxuICAgICAgc2F2ZUFsbERlcGVuZGVuY2llczogb3B0aW9ucy5zYXZlQWxsRGVwZW5kZW5jaWVzLFxuICAgICAgYWxsRGVwZW5kZW5jaWVzS2V5OiBvcHRpb25zLmFsbERlcGVuZGVuY2llc0tleSxcbiAgICAgIHVwZGF0ZUV4dGVybmFsSW1wb3J0c1xuICAgICB9KVxuICBdKTtcbn0iXX0=